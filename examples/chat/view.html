{{ define "title" }} Live Chat {{ end }}
{{ define "view" }}
<style>
    html {
        padding: 0;
        margin: 0;
        overflow: hidden;
    }
    body {
        height: 100vh;
        padding: 0;
        margin: 0;
    }
    main {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }
    .window {
        height: 90vh;
        overflow-y: scroll;
    }
    .message {
        display: flex;
        align-items: center;
    }
    .message span {
        margin-right: 1rem;
        font-size: .8rem;
    }
    .actions {
        height: 10vh;
        display: flex;
        align-items: center;
        padding: 0 1rem;
    }
    .actions form {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .actions form input {
        flex: 1 0 90%;
    }
    .actions form button {
        margin-left: 1rem;
    }
</style>

<main>
    <div class="window">
        {{ range $msg := .Messages }}
        <div class="message">
            <span>{{$msg.User}}</span>
            <pre>{{$msg.Msg}}</pre>
        </div>
        {{ end }}
    </div>
    <div class="actions">
        <form id="chatinput" live-submit="send">
            <input autofocus type="text" name="message">
            <button type="submit">Send</button>
        </form>
    </div>
</main>

{{ end }}
